 0000           cpu "8085.tbl"
 0000           hof "int8"
 9000           org 9000h
                
 030E =         GTHEX: EQU 030EH
 0389 =         OUTPUT:EQU 0389H
                
                ; Defining these standard special addresses
 8FF1 =         CURDT: EQU 8FF1H
 044C =         UPDDT: EQU 044cH
 8FEF =         CURAD: EQU 8FEFH
 0440 =         UPDAD: EQU 0440H
                
 9000 3E00      MVI A,00H
 9002 0600      MVI B,00H
                
                
 9004 214088    LXI H,8840H
 9007 3600      MVI M,00H
                
 9009 214188    LXI H,8841H
 900C 3600      MVI M,00H
                
                
 900E 214288    LXI H,8842H
 9011 3600      MVI M,00H
                
 9013 214388    LXI H,8843H
 9016 3600      MVI M,00H
                
 9018 214088    LXI H,8840H
 901B CD8903    CALL OUTPUT
                
 901E 3E00      MVI A,00H
 9020 0600      MVI B,00H
 9022 CD0E03    CALL GTHEX ; Taking input into D-E pair
 9025 62        MOV H,D
 9026 6B        MOV L,E
                
                ;Checking for valid input
 9027           FIRST:
 9027 7C        	MOV A,H
 9028 FE24      	CPI 24H
 902A DA3290    	JC SECOND 
                	
 902D           START:
 902D 2600      	MVI H,00H ; If not valid, reset it with 0
 902F DA3A90    	JC LOOP               
 9032           SECOND:
 9032 7D        	MOV A,L
 9033 FE60      	CPI 60H
 9035 DA3A90    	JC LOOP
                	
 9038           THIRD:
 9038 2E00      	MVI L,00H 	; If not valid, reset it with 0
                	
                
 903A           LOOP:
                
 903A           HR_MIN:
 903A 22EF8F    	SHLD CURAD 
 903D 3E00      	MVI A,00H; Starting second counter with 0
 903F           NXT_SEC:
 903F 32F18F    	STA CURDT
 9042 CD4004    	CALL UPDAD
 9045 CD4C04    	CALL UPDDT 
 9048 CD7590    	CALL DELAY
 904B 3AF18F    	LDA CURDT 
 904E C601      	ADI 01H ; Add 1
 9050 27        	DAA ; DAA adds 6 to all hexadecimal digits . so that 1a gets changed to 20 ,hence maintaining 
                		; decimal number system
 9051 FE60      	CPI 60H ; While seconds<60 , loop and add 1
 9053 C23F90    	JNZ NXT_SEC
 9056 2AEF8F    	LHLD CURAD
 9059 7D        	MOV A,L
 905A C601      	ADI 01H
 905C 27        	DAA
 905D 6F        	MOV L,A
 905E FE60      	CPI 60H ; While minutes<60 , loop and add 1
 9060 C23A90    	JNZ HR_MIN
 9063 2E00      	MVI L,00H
 9065 7C        	MOV A,H
 9066 C601      	ADI 01H
 9068 27        	DAA
 9069 67        	MOV H,A
 906A FE24      	CPI 24H ; While hours<24 , loop and add 1
 906C C23A90    	JNZ HR_MIN
 906F 210000    	LXI H,0000H
 9072 C33A90    	JMP LOOP
                
                ; Delay introduces a delay of 1 second
 9075           DELAY:
 9075 0E03      	MVI C,03H
 9077           OUTLOOP:
 9077 11009F    	LXI D,9F00H
 907A           INLOOP:
 907A 1B        	DCX D 
 907B 7A        	MOV A,D
 907C B3        	ORA E 
 907D C27A90    	JNZ INLOOP
 9080 0D        	DCR C
 9081 C27790    	JNZ OUTLOOP
 9084 C9        	RET
 9085 EF        RST 5
 9086           	END
0007  A                    0000  B                    0001  C             
8FEF  CURAD                8FF1  CURDT                0002  D             
9075  DELAY                0003  E                    9027  FIRST         
030E  GTHEX                0004  H                    903A  HR_MIN        
907A  INLOOP               0005  L                    903A  LOOP          
0006  M                    903F  NXT_SEC              9077  OUTLOOP       
0389  OUTPUT               9032  SECOND               902D  START         
9038  THIRD                0440  UPDAD                044C  UPDDT         
